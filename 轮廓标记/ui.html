<style>
	body {
		margin: 0;
		background-color: #fff;
		padding: 12px;
	}

	.radio-container {
		display: inline-block;
		position: relative;
		padding-left: 15px;
		cursor: pointer;
		font-size: 12px;
		user-select: none;
	}

	.radio-container input {
		position: absolute;
		opacity: 0;
		cursor: pointer;
	}

	.radio-checkmark {
		position: absolute;
		top: 3px;
		left: 0;
		height: 12px;
		width: 12px;
		background-color: #ccc;
		border-radius: 50%;
	}

	.radio-container:hover input~.radio-checkmark {
		background-color: #bbb;
	}

	.radio-container input:checked~.radio-checkmark {
		background-color: #2196F3;
	}

	.radio-checkmark:after {
		content: "";
		position: absolute;
		display: none;
	}

	.radio-container input:checked~.radio-checkmark:after {
		display: block;
	}

	.radio-container .radio-checkmark:after {
		top: 4px;
		left: 4px;
		width: 4px;
		height: 4px;
		border-radius: 50%;
		background: white;
	}



	.dropdown {
		position: relative;
		/* display: inline-block; */
	}

	.dropdown select {
		appearance: none;
		background-color: #f1f1f1;
		border: none;
		cursor: pointer;
		padding: 8px 16px;
		outline: none;
		font-size: 12px;
		color: #333;
		border-radius: 4px;
		width: 100%;
	}

	.dropdown::before {
		content: '▼';
		position: absolute;
		right: 8px;
		top: 50%;
		transform: translateY(-50%);
		pointer-events: none;
		font-size: 10px;
		color: #333;
	}


	.button {
		display: inline-block;
		background-color: #007BFF;
		color: white;
		padding: 8px 16px;
		font-size: 16px;
		border: none;
		border-radius: 4px;
		cursor: pointer;
		text-decoration: none;
		transition: background-color 0.3s, box-shadow 0.3s;
		box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
	}

	.button:hover {
		background-color: #0056B3;
		box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
	}

	.button:active {
		background-color: #004085;
		box-shadow: 0 1px 2px rgba(0, 0, 0, 0.15);
	}

	.mini-button {
		padding: 4px 8px;
		font-size: 8px;
	}



	.title {
		color: #333;
		font-size: 12px;
		margin-bottom: 4px;
	}

	.border {
		border: 1px solid #f5f5f5;
		box-sizing: border-box;
		padding: 4px;
		margin-bottom: 8px;
	}

	.max-height {
		height: 300px;
		max-height: 300px;
	}

	.ppt_container {
		display: flex;
	}

	.ppt_meun {
		width: 200px;
		flex-shrink: 0;
		overflow: auto;
		padding: 0 8px;
		border-right: 1px solid #f5f5f5;
	}

	.list-item {
		display: flex;
		align-items: center;
		background-color: #f1f1f1;
		color: #333;
		padding: 8px 16px;
		margin-bottom: 4px;
		font-size: 16px;
		border-radius: 4px;
		cursor: pointer;
		text-decoration: none;
		transition: background-color 0.3s;
	}

	.list-item:hover {
		background-color: #e1e1e1;
	}

	.list-item.active {
		background-color: #0056B3;
		color: #fff;
	}

	.content {
		flex: 1;
		display: flex;
		align-items: center;
		justify-content: center;
		background-color: #f2f2f2;
		position: relative;
	}

	.del_icon {
		display: none;
		position: absolute;
		width: 20px;
		height: 20px;
		right: 10px;
		top: 10px;
		z-index: 9999;
		cursor: pointer;
	}

	.content_main {
		background-color: #fff;
		width: 300px;
		height: 168px;
		display: flex;
		align-items: center;
		justify-content: center;
	}

	.content_show {
		width: 300px;
		height: 168px;
	}



	.stylish-input {
		background-color: #f1f1f1;
		border: none;
		border-radius: 4px;
		/* box-shadow: inset 0 0 0 2px #ccc; */
		font-size: 16px;
		padding: 8px 12px;
		outline: none;
		transition: box-shadow 0.3s, background-color 0.3s;
	}

	.stylish-input:focus {
		background-color: #fff;
		box-shadow: inset 0 0 0 2px #f1f1f1;
	}

	.lay-title {
		margin-top: 12px;
	}

	.perview-container {
		width: 450px;
		height: 500px;
		box-sizing: border-box;
		background-image: linear-gradient(45deg, #00000040, #00000040),
			linear-gradient(45deg, #eee 25%, transparent 0, transparent 75%, #eee 0, #eee),
			linear-gradient(45deg, #eee 25%, #fff 0, #fff 75%, #eee 0, #eee);
		background-size: 12px 12px;
		background-position: 0 0, 0 0, 6px 6px;
		padding: 0 15px;
		display: flex;
		flex-direction: column;
		align-items: center;
		overflow: auto;
	}

	.email-img {
		cursor: pointer;
	}

	.email-imgs {
		cursor: pointer;
		position: relative;
	}

	.email-imgs:hover .del_icon {
		display: block;
	}

	.email-img:hover .del_icon {
		display: block;
	}

	.measur-main {
		display: flex;
		justify-content: space-between;
		box-sizing: border-box;
	}

	.measur-item {
		width: 40px;
		height: 40px;
		position: relative;
		border: 1px solid #f5f5f5;
		display: flex;
		justify-content: center;
		align-items: center;
		cursor: pointer;
	}

	.measur-box {
		width: 20px;
		height: 20px;
		background-color: #f5f5f5;
		position: relative;
	}

	.box-top {
		top: 5px;
		position: absolute;
		width: 20px;
		height: 2px;
	}

	.br-color {
		background-color: #E8178A;
		transition: all .5s;
		transform: scale(1);
		pointer-events: none;
	}

	.box-bottom {
		bottom: 5px;
		position: absolute;
		width: 20px;
		height: 2px;
	}

	.box-right {
		position: absolute;
		right: 5px;
		width: 2px;
		height: 20px;
	}

	.box-left {
		position: absolute;
		left: 5px;
		width: 2px;
		height: 20px;
	}

	.measur-box {
		pointer-events: none;
	}

	.measur-item:hover .br-color {
		transform: scale(1.5);
	}
</style>
<div class="body_container">

	<div class="border">
		<div class="title lay-title"> 测量线 </div>
		<div class="measur-main" id="measurlines">
			<div class="measur-item" data-measur="top">
				<div class="box-top br-color"></div>
				<div class="measur-box"></div>
			</div>
			<div class="measur-item" data-measur="bottom">
				<div class="box-bottom br-color"></div>
				<div class="measur-box"></div>
			</div>
			<div class="measur-item" data-measur="right">
				<div class="box-right br-color"></div>
				<div class="measur-box"></div>
			</div>
			<div class="measur-item" data-measur="left">
				<div class="box-left br-color"></div>
				<div class="measur-box"></div>
			</div>
		</div>
	</div>

	<div class="border">
		<div class="title lay-title"> 颜色 </div>
		<input type="color" id="color" value="#E8178A">
	</div>

	<div class="border">
		<div class="title lay-title"> 空隙距离 </div>
		<input type="number" id="space" value="12" min="1" step="1" class="stylish-input" style=" width: 100%;" />
	</div>


	<div class="border">
		<div class="title lay-title"> 字体大小 </div>
		<input type="number" id="fontsize" value="8" min="1" step="1" class="stylish-input" style=" width: 100%;" />
	</div>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
	integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
	crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script>
	let space = 12
	let color = '#E8178A'
	let fontsize = 8


	$('#color').on('change', () => {
		const value = $('#color').val()
		console.log(value)
		color = value
		$('.br-color').css('background-color', color)
	})


	$('#measurlines').on('click', (e) => {

		const measur = getMutliLevelProperty(e, 'target.dataset.measur', '')
		if (measur) {
			console.log(measur)
			space = Number($('#space').val())
			fontsize = Number($('#fontsize').val())
			parent.postMessage({
				pluginMessage: {
					type: 'setting:done',
					datas: {
						measur,
						fontsize,
						color,
						space
					},
				}
			}, '*')
		}
	})

	function getMutliLevelProperty(ctx, path, defaultVal) {
		let res = defaultVal;
		if (!(typeof path === 'string') || !isObject(ctx)) return res;
		let key = path.replace(/\[(\w+)\]/g, '.$1');
		key = key.replace(/^\./, '');
		const arr = key.split('.');
		for (let i = 0, count = arr.length; i < count; i++) {
			const p = arr[i];
			if ((isObject(ctx) || Array.isArray(ctx)) && p in ctx) {
				ctx = ctx[p];
			} else {
				return res;
			}
		}
		res = ctx;
		return res;
	}

	function isObject(obj) {
		var type = typeof obj;
		return type === 'function' || type === 'object' && !!obj;
	}

</script>